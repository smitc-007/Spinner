<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Premium Gold & Black Lucky Draw Spinner</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #FFD700;
            --primary-dark: #D4AF37;
            --secondary: #1a1a1a;
            --accent: #2a2a2a;
            --text: #ffffff;
            --text-secondary: #cccccc;
            --shadow: rgba(0, 0, 0, 0.5);
            --glow: rgba(255, 215, 0, 0.4);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0c0c0c 0%, #1a1a1a 100%);
            color: var(--text);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
            overflow-x: hidden;
        }

        .container {
            max-width: 1200px;
            width: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 30px;
        }

        header {
            text-align: center;
            margin-bottom: 10px;
            width: 100%;
        }

        .logo {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            margin-bottom: 15px;
        }

        .logo-icon {
            font-size: 2.5rem;
            color: var(--primary);
            filter: drop-shadow(0 0 10px var(--glow));
        }

        h1 {
            font-size: 2.8rem;
            background: linear-gradient(to right, var(--primary), var(--primary-dark));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            margin-bottom: 5px;
            text-shadow: 0 0 15px var(--glow);
            letter-spacing: 1px;
        }

        .subtitle {
            color: var(--text-secondary);
            font-size: 1.1rem;
            margin-bottom: 20px;
        }

        .content {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 40px;
            width: 100%;
        }

        .wheel-section {
            display: flex;
            flex-direction: column;
            align-items: center;
            flex: 1;
            min-width: 350px;
        }

        .wheel-container {
            position: relative;
            margin: 20px 0;
        }

        .wheel-base {
            width: 120px;
            height: 40px;
            background: linear-gradient(to bottom, #333, #111);
            border-radius: 10px 10px 0 0;
            position: absolute;
            bottom: -40px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 1;
        }

        .pointer {
            width: 0;
            height: 0;
            border-left: 25px solid transparent;
            border-right: 25px solid transparent;
            border-bottom: 45px solid var(--primary);
            position: absolute;
            top: -45px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 20;
            filter: drop-shadow(0 0 10px var(--primary));
        }

        .wheel {
            width: 360px;
            height: 360px;
            border-radius: 50%;
            border: 12px solid var(--primary);
            overflow: hidden;
            position: relative;
            transition: transform 4s cubic-bezier(0.2, 0.8, 0.2, 1);
            box-shadow: 0 0 30px var(--glow), inset 0 0 20px rgba(0, 0, 0, 0.5);
            background: radial-gradient(circle at center, #2a2a2a, #0c0c0c);
        }

        .slice {
            position: absolute;
            width: 50%;
            height: 50%;
            left: 50%;
            top: 50%;
            transform-origin: 0% 0%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            background: rgba(255, 215, 0, 0.1);
            border: 1px solid rgba(255, 215, 0, 0.2);
            overflow: hidden;
        }

        .slice-content {
            transform: rotate(45deg);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 5px;
        }

        .slice img {
            width: 60px;
            height: 60px;
            object-fit: contain;
            filter: drop-shadow(0 0 5px var(--primary));
        }

        .slice-label {
            font-size: 14px;
            color: var(--primary);
            text-align: center;
            font-weight: 600;
            text-shadow: 0 0 5px rgba(0, 0, 0, 0.7);
        }

        .controls {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
            margin-top: 20px;
        }

        #spinBtn {
            background: linear-gradient(to bottom, var(--primary), var(--primary-dark));
            border: none;
            padding: 16px 40px;
            font-size: 1.2rem;
            cursor: pointer;
            border-radius: 50px;
            font-weight: bold;
            color: #000;
            box-shadow: 0 5px 15px var(--shadow);
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 10px;
            position: relative;
            overflow: hidden;
        }

        #spinBtn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px var(--shadow);
        }

        #spinBtn:active {
            transform: translateY(1px);
        }

        #spinBtn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .btn-glow {
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
            transition: left 0.5s;
        }

        #spinBtn:hover .btn-glow {
            left: 100%;
        }

        .info-section {
            flex: 1;
            min-width: 350px;
            background: rgba(42, 42, 42, 0.7);
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 215, 0, 0.2);
        }

        .info-section h2 {
            color: var(--primary);
            margin-bottom: 20px;
            font-size: 1.8rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .info-section h2 i {
            font-size: 1.5rem;
        }

        .prizes-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 15px;
            margin-bottom: 25px;
        }

        .prize-item {
            background: rgba(26, 26, 26, 0.8);
            border-radius: 10px;
            padding: 15px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
            transition: transform 0.3s ease;
            border: 1px solid rgba(255, 215, 0, 0.1);
        }

        .prize-item:hover {
            transform: translateY(-5px);
            border-color: var(--primary);
        }

        .prize-item img {
            width: 50px;
            height: 50px;
            object-fit: contain;
        }

        .prize-name {
            font-size: 14px;
            font-weight: 600;
            color: var(--text);
        }

        .settings {
            margin-top: 20px;
        }

        .setting-group {
            margin-bottom: 15px;
        }

        .setting-group label {
            display: block;
            margin-bottom: 8px;
            color: var(--text-secondary);
            font-weight: 500;
        }

        .setting-select {
            width: 100%;
            padding: 10px 15px;
            background: rgba(26, 26, 26, 0.8);
            border: 1px solid rgba(255, 215, 0, 0.3);
            border-radius: 8px;
            color: var(--text);
            font-size: 1rem;
        }

        /* WIN POPUP */
        #winPopup {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.85);
            display: none;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            z-index: 100;
            backdrop-filter: blur(5px);
        }

        #popupBox {
            background: linear-gradient(135deg, #1a1a1a 0%, #2a2a2a 100%);
            padding: 40px;
            border-radius: 20px;
            text-align: center;
            border: 2px solid var(--primary);
            box-shadow: 0 0 40px var(--glow);
            max-width: 90%;
            width: 450px;
            animation: pop 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            position: relative;
            overflow: hidden;
        }

        #popupBox::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,215,0,0.1) 0%, transparent 70%);
            z-index: -1;
        }

        .trophy-icon {
            font-size: 5rem;
            color: var(--primary);
            margin-bottom: 20px;
            filter: drop-shadow(0 0 10px var(--primary));
        }

        #popupImg {
            width: 100px;
            margin-bottom: 20px;
            filter: drop-shadow(0 0 10px var(--primary));
        }

        #popupText {
            font-size: 1.8rem;
            margin-bottom: 25px;
            color: var(--text);
        }

        #popupText b {
            color: var(--primary);
            font-size: 2.2rem;
            display: block;
            margin-top: 10px;
        }

        #closePopup {
            background: linear-gradient(to bottom, var(--primary), var(--primary-dark));
            border: none;
            padding: 12px 30px;
            border-radius: 50px;
            font-size: 1.1rem;
            cursor: pointer;
            font-weight: bold;
            color: black;
            box-shadow: 0 5px 15px var(--shadow);
            transition: all 0.3s ease;
        }

        #closePopup:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px var(--shadow);
        }

        @keyframes pop {
            0% { transform: scale(0.5) rotate(-10deg); opacity: 0; }
            70% { transform: scale(1.05) rotate(5deg); }
            100% { transform: scale(1) rotate(0); opacity: 1; }
        }

        /* CONFETTI */
        #confettiCanvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 50;
        }

        /* FOOTER */
        footer {
            margin-top: 30px;
            text-align: center;
            color: var(--text-secondary);
            font-size: 0.9rem;
            width: 100%;
            padding: 20px;
            border-top: 1px solid rgba(255, 215, 0, 0.1);
        }

        /* RESPONSIVE DESIGN */
        @media (max-width: 900px) {
            .content {
                flex-direction: column;
                align-items: center;
            }
            
            .wheel-section, .info-section {
                width: 100%;
            }
            
            h1 {
                font-size: 2.2rem;
            }
        }

        @media (max-width: 500px) {
            .wheel {
                width: 300px;
                height: 300px;
            }
            
            h1 {
                font-size: 1.8rem;
            }
            
            .prizes-grid {
                grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            }
            
            #popupBox {
                padding: 30px 20px;
            }
            
            #popupText {
                font-size: 1.5rem;
            }
            
            #popupText b {
                font-size: 1.8rem;
            }
        }

        /* SPIN ANIMATION */
        @keyframes spin-glow {
            0% { box-shadow: 0 0 20px var(--glow); }
            50% { box-shadow: 0 0 40px var(--primary); }
            100% { box-shadow: 0 0 20px var(--glow); }
        }

        .spinning {
            animation: spin-glow 1s infinite;
        }
        
        /* CLAIM ANIMATION */
        @keyframes claim {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        .claiming {
            animation: claim 0.5s ease;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">
                <i class="fas fa-dharmachakra logo-icon"></i>
                <h1>Premium Lucky Draw</h1>
            </div>
            <p class="subtitle">Spin the wheel for a chance to win amazing prizes!</p>
        </header>

        <div class="content">
            <div class="wheel-section">
                <div class="wheel-container">
                    <div class="wheel-base"></div>
                    <div class="pointer"></div>
                    <div id="wheel" class="wheel"></div>
                </div>

                <div class="controls">
                    <button id="spinBtn">
                        <span class="btn-glow"></span>
                        <i class="fas fa-play"></i>
                        SPIN NOW
                    </button>
                </div>
            </div>

            <div class="info-section">
                <h2><i class="fas fa-gift"></i> Available Prizes</h2>
                <div class="prizes-grid" id="prizesGrid">
                    <!-- Prizes will be populated by JavaScript -->
                </div>

                <div class="settings">
                    <h2><i class="fas fa-cog"></i> Settings</h2>
                    <div class="setting-group">
                        <label for="imageMode">Display Mode:</label>
                        <select id="imageMode" class="setting-select">
                            <option value="demo">Images</option>
                            <option value="emoji">Emojis</option>
                        </select>
                    </div>
                    <div class="setting-group">
                        <label for="probabilityMode">Probability Mode:</label>
                        <select id="probabilityMode" class="setting-select">
                            <option value="equal">Equal Chance</option>
                            <option value="weighted">Weighted</option>
                        </select>
                    </div>
                    <div class="setting-group">
                        <label for="preventRepeat">
                            <input type="checkbox" id="preventRepeat">
                            Prevent Repeat Wins
                        </label>
                    </div>
                </div>
            </div>
        </div>

        <footer>
            <p>Premium Lucky Draw Spinner &copy; 2023 | Spin responsibly</p>
        </footer>
    </div>

    <!-- WIN POPUP -->
    <div id="winPopup">
        <div id="popupBox">
            <i class="fas fa-trophy trophy-icon"></i>
            <img id="popupImg" src="" />
            <h2 id="popupText"></h2>
            <button id="closePopup">CLAIM PRIZE</button>
        </div>
    </div>

    <!-- CONFETTI -->
    <canvas id="confettiCanvas"></canvas>

    <!-- SOUND -->
    <audio id="winSound" src="https://assets.mixkit.co/sfx/preview/mixkit-winning-an-extra-bonus-2060.mp3"></audio>
    <audio id="spinSound" src="https://assets.mixkit.co/sfx/preview/mixkit-arcade-game-jump-coin-216.mp3"></audio>
    <audio id="claimSound" src="https://assets.mixkit.co/sfx/preview/mixkit-unlock-game-notification-253.mp3"></audio>

    <script>
        /* =========================================================
           ðŸ›  CONFIG â€” You only change these keys!
           ========================================================= */
        const settings = {
            imageMode: "demo",       // "demo" | "emoji"
            probabilityMode: "equal", // "equal" | "weighted"
            preventRepeatWins: false,
        };

        /* =========================================================
           ðŸŽ Prize List â€” You can modify labels, emojis, images, weight
           ========================================================= */
        const prizes = [
            { label: "Gift",    emoji:"ðŸŽ", img:"https://cdn-icons-png.flaticon.com/512/827/827250.png", weight:25 },
            { label: "Coupon",  emoji:"ðŸŽ«", img:"https://cdn-icons-png.flaticon.com/512/3081/3081559.png", weight:35 },
            { label: "iPhone",  emoji:"ðŸ“±", img:"https://cdn-icons-png.flaticon.com/512/1047/1047711.png", weight:3  },
            { label: "Laptop",  emoji:"ðŸ’»", img:"https://cdn-icons-png.flaticon.com/512/3141/3141137.png", weight:7  },
            { label: "Shoes",   emoji:"ðŸ‘Ÿ", img:"https://cdn-icons-png.flaticon.com/512/992/992651.png", weight:15 },
            { label: "Watch",   emoji:"âŒš", img:"https://cdn-icons-png.flaticon.com/512/833/833472.png", weight:15 },
        ];

        let availablePrizes = [...prizes];
        let currentAngle = 0;
        let isSpinning = false;

        // DOM Elements
        const wheel = document.getElementById("wheel");
        const spinBtn = document.getElementById("spinBtn");
        const prizesGrid = document.getElementById("prizesGrid");
        const imageModeSelect = document.getElementById("imageMode");
        const probabilityModeSelect = document.getElementById("probabilityMode");
        const preventRepeatCheckbox = document.getElementById("preventRepeat");
        const popup = document.getElementById("winPopup");
        const popupImg = document.getElementById("popupImg");
        const popupText = document.getElementById("popupText");
        const closePopupBtn = document.getElementById("closePopup");
        const winSound = document.getElementById("winSound");
        const spinSound = document.getElementById("spinSound");
        const claimSound = document.getElementById("claimSound");

        // Initialize settings from UI
        imageModeSelect.value = settings.imageMode;
        probabilityModeSelect.value = settings.probabilityMode;
        preventRepeatCheckbox.checked = settings.preventRepeatWins;

        // Event listeners for settings changes
        imageModeSelect.addEventListener('change', function() {
            settings.imageMode = this.value;
            renderWheel();
            renderPrizesGrid();
        });

        probabilityModeSelect.addEventListener('change', function() {
            settings.probabilityMode = this.value;
        });

        preventRepeatCheckbox.addEventListener('change', function() {
            settings.preventRepeatWins = this.checked;
        });

        /* =========================================================
           ðŸŽ¨ Render Wheel Dynamically
           ========================================================= */
        function renderWheel() {
            wheel.innerHTML = "";
            let count = availablePrizes.length;
            let sliceAngle = 360 / count;

            availablePrizes.forEach((p, i) => {
                const slice = document.createElement("div");
                slice.className = "slice";
                slice.style.transform = `rotate(${i * sliceAngle}deg) skewY(${-(90 - sliceAngle)}deg)`;
                
                const sliceContent = document.createElement("div");
                sliceContent.className = "slice-content";
                
                let content = "";

                if (settings.imageMode === "emoji") {
                    content = `<span style="font-size:42px">${p.emoji}</span>`;
                } else {
                    content = `<img src="${p.img}" alt="${p.label}">`;
                }

                sliceContent.innerHTML = content + `<div class="slice-label">${p.label}</div>`;
                slice.appendChild(sliceContent);
                wheel.appendChild(slice);
            });
        }

        /* =========================================================
           ðŸŽ¨ Render Prizes Grid
           ========================================================= */
        function renderPrizesGrid() {
            prizesGrid.innerHTML = "";
            
            availablePrizes.forEach(p => {
                const prizeItem = document.createElement("div");
                prizeItem.className = "prize-item";
                
                let content = "";
                
                if (settings.imageMode === "emoji") {
                    content = `<span style="font-size:32px">${p.emoji}</span>`;
                } else {
                    content = `<img src="${p.img}" alt="${p.label}">`;
                }
                
                prizeItem.innerHTML = content + `<div class="prize-name">${p.label}</div>`;
                prizesGrid.appendChild(prizeItem);
            });
        }

        // Initial render
        renderWheel();
        renderPrizesGrid();

        /* =========================================================
           ðŸŽ² Probability Selection
           ========================================================= */
        function getRandomPrizeIndex() {
            if (settings.probabilityMode === "equal") {
                return Math.floor(Math.random() * availablePrizes.length);
            }

            // Weighted mode
            let total = availablePrizes.reduce((sum, p) => sum + p.weight, 0);
            let rand = Math.random() * total;

            for (let i = 0; i < availablePrizes.length; i++) {
                if (rand < availablePrizes[i].weight) return i;
                rand -= availablePrizes[i].weight;
            }
        }

        /* =========================================================
           ðŸŽ¯ Spin Logic
           ========================================================= */
        spinBtn.onclick = function () {
            if (isSpinning) return;
            
            isSpinning = true;
            spinBtn.disabled = true;
            wheel.classList.add("spinning");
            
            // Play spin sound
            spinSound.currentTime = 0;
            spinSound.play();

            const index = getRandomPrizeIndex();
            const sliceAngle = 360 / availablePrizes.length;
            const stopAngle = (360 * 5) + index * sliceAngle + sliceAngle / 2;

            currentAngle += stopAngle;
            wheel.style.transform = `rotate(${currentAngle}deg)`;

            setTimeout(() => {
                showWinner(availablePrizes[index]);
                wheel.classList.remove("spinning");

                // Remove won prize if preventRepeatWins = true
                if (settings.preventRepeatWins) {
                    availablePrizes.splice(index, 1);
                    if (availablePrizes.length === 0) availablePrizes = [...prizes];
                    renderWheel();
                    renderPrizesGrid();
                }
                
                isSpinning = false;
                spinBtn.disabled = false;
            }, 4200);
        };

        /* =========================================================
           ðŸŽ‰ WIN POPUP + CONFETTI + SOUND
           ========================================================= */
        function showWinner(p) {
            popup.style.display = "flex";

            if (settings.imageMode === "emoji") {
                popupImg.style.display = "none";
                popupText.innerHTML = `Congratulations!<br>You won:<br><b>${p.emoji} ${p.label}</b>`;
            } else {
                popupImg.style.display = "block";
                popupImg.src = p.img;
                popupText.innerHTML = `Congratulations!<br>You won:<br><b>${p.label}</b>`;
            }

            winSound.play();
            startConfetti();
        }

        closePopupBtn.onclick = function() {
            // Add claiming animation
            this.classList.add("claiming");
            
            // Play claim sound
            claimSound.currentTime = 0;
            claimSound.play();
            
            // Hide popup after animation
            setTimeout(() => {
                popup.style.display = "none";
                this.classList.remove("claiming");
                stopConfetti();
            }, 500);
        };

        /* =========================================================
           ðŸŽŠ CONFETTI ENGINE
           ========================================================= */
        const canvas = document.getElementById("confettiCanvas");
        const ctx = canvas.getContext("2d");
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        let confetti = [];
        let confettiActive = false;

        function resizeCanvas() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        }

        window.addEventListener('resize', resizeCanvas);

        function startConfetti() {
            confettiActive = true;
            confetti = [];

            for (let i = 0; i < 150; i++) {
                confetti.push({
                    x: Math.random() * canvas.width,
                    y: Math.random() * canvas.height - canvas.height,
                    r: Math.random() * 8 + 2,
                    d: Math.random() * 1 + 1,
                    color: `hsl(${Math.random() * 60 + 30}, 100%, 50%)` // Gold variations
                });
            }

            animateConfetti();
        }

        function stopConfetti() {
            confettiActive = false;
        }

        function animateConfetti() {
            if (!confettiActive) return;

            ctx.clearRect(0, 0, canvas.width, canvas.height);

            confetti.forEach(c => {
                ctx.beginPath();
                ctx.fillStyle = c.color;
                ctx.arc(c.x, c.y, c.r, 0, Math.PI * 2, true);
                ctx.fill();
                c.y += c.d;

                if (c.y > canvas.height) {
                    c.y = -10;
                    c.x = Math.random() * canvas.width;
                }
            });

            requestAnimationFrame(animateConfetti);
        }
    </script>
</body>
</html>
